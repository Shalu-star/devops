





$contentCatalog=electronicsContentCatalog
$contentCatalogName=Electronics Content Catalog
$contentCV=catalogVersion(CatalogVersion.catalog(Catalog.id[default=$contentCatalog]),CatalogVersion.version[default=Staged])[default=$contentCatalog:Staged]
$productCatalog=electronicsProductCatalog
$productCatalogName=Electronics Product Catalog
$productCV=catalogVersion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog:Staged]


INSERT_UPDATE PageTemplate;$contentCV[unique=true];uid[unique=true];name;frontendTemplateName;restrictedPageTypes(code);active[default=true]
;;TestPageTemplate;Test Page Template;test/testLayoutPage;ContentPage




# 2. Create content slot names
 
INSERT_UPDATE ContentSlotName;name[unique=true];template(uid,$contentCV)[unique=true][default='TestPageTemplate'];validComponentTypes(code);compTypeGroup(code)
;TopHeaderSlot;;;wide
;SiteLogo;;;logo
;HeaderLinks;;;headerlinks
;SearchBox;;;searchbox
;MiniCart;;;minicart
;NavigationBar;;;navigation
;testParagraph;;;wide
;Footer;;;footer



# 3. Create content page
 
INSERT_UPDATE ContentPage;$contentCV[unique=true];uid[unique=true];name;masterTemplate(uid,$contentCV);label;defaultPage[default='true'];approvalStatus(code)[default='approved'];homepage[default='false']
;;testContentPage;Test Content Page;TestPageTemplate;testCMSPage


# 4. Link content slotnames with page template
 
INSERT_UPDATE ContentSlotForTemplate;$contentCV[unique=true];uid[unique=true];position[unique=true];pageTemplate(uid,$contentCV)[unique=true][default='TestPageTemplate'];contentSlot(uid,$contentCV)[unique=true];allowOverwrite
;;SiteLogo-TestPage;SiteLogo;;SiteLogoSlot;true
;;HomepageLink-TestPage;HomepageNavLink;;HomepageNavLinkSlot;true
;;NavigationBar-TestPage;NavigationBar;;NavigationBarSlot;true
;;MiniCart-TestPage;MiniCart;;MiniCartSlot;true
;;Footer-TestPage;Footer;;FooterSlot;true
;;HeaderLinks-TestPage;HeaderLinks;;HeaderLinksSlot;true
;;SearchBox-TestPage;SearchBox;;SearchBoxSlot;true
;;TopHeaderSlot-TestPage;TopHeaderSlot;;TopHeaderSlot;true
;;BottomHeaderSlot-TestPage;BottomHeaderSlot;;BottomHeaderSlot;true
;;testParagraphSlot-TestPage;testParagraph;;testParagraphSlot;true


# 5. create components and link them with content slots
 
INSERT_UPDATE CMSParagraphComponent;$contentCV[unique=true];uid[unique=true];name;&componentRef;;;;content;
;;testHeadingComponent;Test Heading information;testHeadingComponent;;;;This is Test Page;


# 6. create the link component
 
INSERT_UPDATE CMSLinkComponent;$contentCV[unique=true];uid[unique=true];name;url;category(code, $productCV);target(code)[default='sameWindow'];;
;;testLink;Test Link;/test;;;;


# 7. create content slots and add the components to the content slots

INSERT_UPDATE ContentSlot;$contentCV[unique=true];uid[unique=true];name;active;cmsComponents(uid,$contentCV)
;;testParagraphSlot;Test Paragraph Slot;true;testHeadingComponent


# 8. create navigation node
 
INSERT_UPDATE CMSNavigationNode;uid[unique=true];$contentCV[unique=true];name;&nodeRef;
;TestNavigationNavNode;;Test Navigation Node;TestNavigationNavNode


# 9. create navigation node and add the cms link component
 
INSERT_UPDATE CMSNavigationNode;uid[unique=true];$contentCV[unique=true];name;parent(uid, $contentCV);&nodeRef;children(uid,$contentCV)
;ElectronicsCategoryNavNode;;Categories;ElectronicsNavNode;ElectronicsCategoryNavNode;BrandsNavNode,DigitalCamerasNavNode,FilmCamerasNavNode,WebcamsNavNode,CameraAccessoriesNavNode,HandheldCamcordersNavNode,PowerSuppliesNavNode,FlashMemoryNavNode,TestNavigationNavNode

# 10. entries of the above navigation node

INSERT_UPDATE CMSNavigationEntry;uid[unique=true];$contentCV[unique=true];name;navigationNode(&nodeRef);item(CMSLinkComponent.uid,CMSLinkComponent.$contentCV);
;TestNavNodeEntry;;Test Navigation Node Entry;TestNavigationNavNode;testLink;


# 11. add the language for the newly created navigation node and cms link component

UPDATE CMSNavigationNode;$contentCV[unique=true];uid[unique=true];title[lang=en]
;;TestNavigationNavNode;"Test"
UPDATE CMSLinkComponent;$contentCV[unique=true];uid[unique=true];linkName[lang=en]
;;testLink;"Test"
